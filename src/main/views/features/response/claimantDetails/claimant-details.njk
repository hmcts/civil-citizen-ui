{% extends "template.njk" %}
{% from "govuk/components/back-link/macro.njk" import govukBackLink %}
{% from "govuk/components/summary-list/macro.njk" import govukSummaryList %}
{% from "govuk/components/button/macro.njk" import govukButton %}
{% from "../../../macro/contact-us-for-help.njk" import contactUsForHelp %}
{% set heading = 'Claimant details' %}
    {% set applicant1 = claim.applicant1 %}
    {% set claimantType = applicant1.type %}
      {% if (claimantType == CounterpartyType.INDIVIDUAL) %}
        {% set individualTitle = applicant1.individualTitle %}
        {% set applicant1Details =  (individualTitle if individualTitle else '')  + ' ' +  applicant1.individualFirstName + ' ' + applicant1.individualLastName %}
      {% elseif (claimantType == CounterpartyType.SOLE_TRADER) %}
        {% set soleTraderTitle = applicant1.soleTraderTitle %}
        {% set applicant1Details = (soleTraderTitle if soleTraderTitle else '') + ' ' +  applicant1.soleTraderFirstName + ' ' + applicant1.soleTraderLastName %}
      {% elseif (claimantType == CounterpartyType.ORGANISATION) %}
        {% set applicant1Details = applicant1.organisationName %}
      {% elseif (claimantType == CounterpartyType.COMPANY) %}
        {% set applicant1Details = applicant1.companyName %}
      {% endif %}

      {% set claimantDetailsLink %}
        <a href="{{ claimantDetailsUrl }}">{{ applicant1Details }}</a>
      {% endset -%}

      {% set totalClaimAmount = claim.totalClaimAmount | currencyFormat(totalClaimAmount) %}

{% block content %}
  {{ govukBackLink({
    text: "Back",
    href: "statement-of-means/intro"
  }) }}
  <div class="govuk-width-container">
    <main class="govuk-main-wrapper" role="main">
      <div class="govuk-grid-row">
        <div class="govuk-grid-column-two-thirds">
          <h1 class="govuk-heading-l">
            <span class="govuk-caption-l">{{ t('Claimant') }}</span>
            {{ applicant1Details }}
          </h1>
          <h2 class="govuk-heading-m">Address</h2>
          <div class="govuk-grid-row govuk-body">
           <span class="govuk-grid-column-full">
            {{ applicant1.primaryAddress.AddressLine1 }}
            </span>
            {% set addressLine2 = applicant1.primaryAddress.AddressLine2 %}
            {% if addressLine2 %}
              <span class="govuk-grid-column-full">
              {{ addressLine2 }}
            </span>
            {% endif %}
            {% set addressLine3 = applicant1.primaryAddress.AddressLine3 %}
            {% if addressLine3 %}
              <span class="govuk-grid-column-full">
              {{ addressLine3 }}
            </span>
            {% endif %}
            {% set postTown = applicant1.primaryAddress.PostTown %}
            {% if postTown %}
              <span class="govuk-grid-column-full">
              {{ postTown }}
            </span>
            {% endif %}
            {% set postCode = applicant1.primaryAddress.PostCode %}
            {% if postCode %}
              <span class="govuk-grid-column-full">
              {{ postCode }}
            </span>
            {% endif %}
          </div>
          {% set emailAddress = claim.applicantSolicitor1UserDetails.email %}
          {% if emailAddress %}
            <div class="govuk-grid-row govuk-body">
              <span class="govuk-grid-column-full">
                {{ t('Email') }}: <a class="govuk-link"
                                     href="{{ emailAddress }}">{{ emailAddress }}</a>
              </span>
            </div>
          {% endif %}
          <div class="govuk-form-group">
            {{ contactUsForHelp(t) }}
          </div>
        </div>
        <div class="govuk-grid-row">
          <div class="govuk-grid-column-one-third govuk-!-display-inline">
            <h3 class="govuk-heading-s">{{ t('About claim') }}</h3>
          </div>
          <div class="govuk-grid-column-one-third govuk-!-display-inline">
          <span class="govuk-body-s">
            <strong>{{ t('Claimant name') }}:</strong>
          </span>
            <br>
            <span class="govuk-body-s">
            <a class="govuk-link" href="">{{ applicant1Details }}</a>
          </span>
          </div>
          <div class="govuk-grid-column-one-third govuk-!-display-inline">
          <span class="govuk-body-s">
            <strong>{{ t('Claim amount') }}:</strong>
          </span>
            <br>
            <span class="govuk-body-s">
            {{ totalClaimAmount }}
          </span>
          </div>
          <div class="govuk-grid-column-one-third govuk-!-display-inline">
          <span class="govuk-body-s">
            <strong>{{ t('Claim details') }}:</strong>
          </span>
            <br>
            <span class="govuk-body-s">
            <a class="govuk-link" href="{{ claimDetailsUrl }}">{{ t('View claim') }}</a>
          </span>
          </div>
        </div>
      </div>
    </main>
  </div>


{% endblock %}
