{% from "govuk/components/button/macro.njk" import govukButton %}
{% from "govuk/components/inset-text/macro.njk" import govukInsetText %}
{% from "govuk/components/summary-list/macro.njk" import govukSummaryList %}
{% from "govuk/components/table/macro.njk" import govukTable %}
{% from "govuk/components/panel/macro.njk" import govukPanel %}
{% from "govuk/components/date-input/macro.njk" import govukDateInput %}
{% from "govuk/components/file-upload/macro.njk" import govukFileUpload %}
{% from "govuk/components/input/macro.njk" import govukInput %}
{% from "govuk/components/warning-text/macro.njk" import govukWarningText %}

{% macro itemContent(content) %}
  {% if content.type === ClaimSummaryType.HTML %}
    {{ content.data.html | safe }}
  {% endif %}

  {% if content.type === ClaimSummaryType.TITLE %}
    <h3 class="govuk-heading-m">{{ t(content.data.text) }}</h3>
  {% endif %}

  {% if content.type === ClaimSummaryType.SUBTITLE %}
    <h3 class="govuk-heading-s">{{ t(content.data.text) }}</h3>
  {% endif %}
  {% if content.type === ClaimSummaryType.PARAGRAPH %}
    {% set object = '' %}
    {% if content.data.variables %}
        {% set object = content.data.variables %}
        <p class="govuk-body">{{ t(content.data.text,object)}}</p>
    {% else %}
        <p class="govuk-body">{{ t(content.data.text)}}</p>
    {% endif %}
  {% endif %}

  {% if content.type === ClaimSummaryType.INSET_TEXT %}
    {{ govukInsetText({
      text: t(content.data.text),
      html: content.data.html
    }) }}
  {% endif %}

  {% if content.type === ClaimSummaryType.SUMMARY %}
    {{ govukSummaryList({
      rows: content.data.rows
    }) }}
  {% endif %}

  {% if content.type === ClaimSummaryType.BUTTON %}
    <div>
      {{ govukButton({
        href: content.data.href,
        text:  t(content.data.text),
        classes: content.data.classes
      }) }}
    </div>
  {% endif %}

  {% if content.type === ClaimSummaryType.LINK %}
    <p class="govuk-body govuk-!-margin-bottom-1">{{ t(content.data.textBefore) }}
      {% set object = '' %}
        {% if content.data.variables %}
          {% set object = content.data.variables %}
          <a class="govuk-link" href={{ content.data.href }}>{{ t(content.data.text,object) }}</a>
        {% else %}
          <a class="govuk-link" href={{ content.data.href }}>{{ t(content.data.text) }}</a>
        {% endif %}
      {{ t(content.data.textAfter) }}
    </p>
    <p class="govuk-body-s mid-grey">{{ t(content.data.subtitle) }}</p>
  {% endif %}

  {% if content.type === ClaimSummaryType.TABLE %}
    <div>
      {{ govukTable({
        classes: content.data.classes,
        head: content.data.head,
        rows: content.data.tableRows
      }) }}
    </div>
  {% endif %}

  {% if content.type === ClaimSummaryType.PANEL %}
    <div>
      {{ govukPanel({
        classes: content.data.classes,
        titleHtml: content.data.title,
        html: content.data.html
      }) }}
    </div>
  {% endif %}

  {% if content.type === ClaimSummaryType.INPUT %}
     <div>
      {{ govukInput({
         id: "name",
         name: "name",
         value: form.model.name,
         classes: content.data.classes,
         label: {
           html: '<strong>'+ t(content.data.text)+'</strong>'
         }
      }) }}
     </div>
  {% endif %}

  {% if content.type === ClaimSummaryType.UPLOAD %}
     <div class="govuk-inset-text">
        {{ govukFileUpload({
           id: content.data.id,
           name: content.data.name,
           label: {
             html: '<strong>'+t(content.data.text)+'</strong><hr class="govuk-section-break--s govuk-section-break--visible">'+t(content.data.html)+'</br></br>'
           }
        }) }}
    </div>
  {% endif %}

  {% if content.type === ClaimSummaryType.DATE %}
     <div>
        {{ govukDateInput({
           id: content.data.id,
           namePrefix: content.data.name,
           fieldset: {
             legend: {
              text: t(content.data.text),
              isPageHeading: false,
              classes: content.data.classes
             }
           },
           hint: {
            text: t(content.data.hint)
           }
        }) }}
     </div>
  {% endif %}

  {% if content.type === ClaimSummaryType.WARNING %}
    <div class="govuk-warning-text">
      <span class="govuk-warning-text__icon" aria-hidden="true">!</span>
      <strong class="govuk-warning-text__text">
        <span class="govuk-warning-text__assistive">Warning</span>
          {% set object = '' %}
          {% if content.data.variables %}
            {% set object = content.data.variables %}
            {{ t(content.data.text,object)}}
          {% else %}
            {{ t(content.data.text)}}
          {% endif %}
      </strong>
    </div>
  {% endif %}
{% endmacro %}
