{% extends "claim-details-tpl-dashboard.njk" %}
{% from "govuk/components/textarea/macro.njk" import govukTextarea %}
{% from "govuk/components/button/macro.njk" import govukButton %}
{% from "../../macro/heading-with-caption.njk" import headingWithCaption %}
{% from "govuk/components/input/macro.njk" import govukInput %}
{% from "govuk/components/radios/macro.njk" import govukRadios %}
{% from "../../macro/csrf.njk" import csrfProtection %}
{% from "govuk/components/file-upload/macro.njk" import govukFileUpload %}
{% from "../../macro/button.njk" import addButton %}
{% from "../../macro/error-summary.njk" import errorSummary %}
{% from "../../macro/page-title.njk" import setPageTitle %}
{% from "../../macro/create-table-documents.njk" import addCreateFileInformation, addFileLink, createDocumentsTableWithoutTableCaption %}
{% from "govuk/components/breadcrumbs/macro.njk" import govukBreadcrumbs %}

{% block pageTitle %}
  {{ setPageTitle(t, pageHeaders.pageTitle) }}
{% endblock %}


{% set claimantDocRows = [] %}

{% if claimantDocuments.documents.length > 0 %}
    {% set claimantDocRows = (claimantDocRows.push([
        {
            text: t('PAGES.QM.VIEW_QUERY.MESSAGE_SUBJECT'),
            classes: "govuk-body govuk-!-font-weight-bold"
        },
        {
            text: t('PAGES.QM.VIEW_QUERY.SENT_ON'),
            classes: "govuk-body govuk-!-font-weight-bold"
        },
        {
            text: t('PAGES.QM.VIEW_QUERY.LAST_UPDATED_BY'),
            classes: "govuk-body govuk-!-font-weight-bold"
        },
        {
            text: t('PAGES.QM.VIEW_QUERY.LAST_UPDATED_ON'),
            classes: "govuk-body govuk-!-font-weight-bold"
        },
        {
            text: t('PAGES.QM.VIEW_QUERY.STATUS'),
            classes: "govuk-body govuk-!-font-weight-bold"
        }

    ]), claimantDocRows) %}

    {% for item in claimantDocuments.documents %}
        {% set claimantDocRows = (claimantDocRows.push([
            {
                html: addCreateFileInformation(t, t(item.fileName), t(item.uploadDate))
            },
            {
                html: addFileLink(item.linkInformation.url, item.linkInformation.text)
            },
            {
                text: t(item.type)
            }
        ]), claimantDocRows) %}
    {% endfor %}
{% endif %}

{% block nestedContent %}

{{ headingWithCaption(t, pageHeaders.caption, pageHeaders.heading) }}

{{ createDocumentsTableWithoutTableCaption(claimantDocRows) }}

{% endblock %}

